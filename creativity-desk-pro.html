
<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8">
  <title>Ù…ÛŒØ² Ø®Ù„Ø§Ù‚ÛŒØª Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø®Ø§Ù…ÙˆØ´</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/quill/dist/quill.snow.css" rel="stylesheet">
  <style>
    body {
      font-family: Shabnam, Tahoma, sans-serif;
      background: #f9f9f9;
      direction: rtl;
      margin: 0;
      padding: 0;
    }
    header {
      background: #222;
      color: #fff;
      text-align: center;
      padding: 25px;
    }
    h1 {
      margin: 0;
      font-size: 26px;
    }
    main {
      padding: 20px;
      max-width: 1000px;
      margin: auto;
    }
    .editor-container {
      margin-bottom: 20px;
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 10px;
    }
    .buttons {
      margin: 20px 0;
    }
    .buttons button {
      padding: 10px 20px;
      margin: 5px;
      font-size: 14px;
      background: #444;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    .buttons button:hover {
      background: #666;
    }
    #imagePreview {
      margin-top: 15px;
      max-width: 100%;
      display: none;
      border: 1px dashed #aaa;
      padding: 10px;
      border-radius: 10px;
    }
    footer {
      text-align: center;
      font-size: 13px;
      color: #777;
      margin: 40px 0;
    }
  </style>
</head>
<body>
  <header>
    <h1>ğŸ¨ Ù…ÛŒØ² Ø®Ù„Ø§Ù‚ÛŒØª Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø®Ø§Ù…ÙˆØ´</h1>
    <p>Ù†ÙˆØ´ØªØ§Ø± Ù‡Ù†Ø±ÛŒØŒ ØªØµÙˆÛŒØ±ØŒ ÙˆØ§ØªØ±Ù…Ø§Ø±Ú© Ùˆ Ø®Ø±ÙˆØ¬ÛŒ ØªØ±Ú©ÛŒØ¨ÛŒ</p>
  </header>

  <main>
    <div class="editor-container">
      <div id="editor">Ø¯Ù„â€ŒÙ†ÙˆØ´ØªÙ‡â€ŒØ§Øª Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ù†ÙˆÛŒØ³...</div>
    </div>

    <div>
      <label for="imageUpload">ğŸ–¼ï¸ Ø§ÙØ²ÙˆØ¯Ù† ØªØµÙˆÛŒØ± Ø¨Ù‡ Ù…ØªÙ†:</label>
      <input type="file" id="imageUpload" accept="image/*">
      <img id="imagePreview">
    </div>

    <div class="buttons">
      <button onclick="printContent()">ğŸ“„ Ú†Ø§Ù¾ / Ø°Ø®ÛŒØ±Ù‡ Ø¨Ù‡ PDF</button>
      <button onclick="downloadText()">â¬‡ï¸ Ø°Ø®ÛŒØ±Ù‡ Ù…ØªÙ†</button>
    </div>
  </main>

  <footer>
    Ù†Ø³Ø®Ù‡ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø§Ø¨Ø²Ø§Ø± Ù…ÛŒØ² Ø®Ù„Ø§Ù‚ÛŒØª | Ú¯Ù…â€ŒÙ†Ø§Ù… Ø®Ø§Ù…ÙˆØ´ ÙØ±Ø§Ø±ÛŒ
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/quill/dist/quill.min.js"></script>
  <script>
    const quill = new Quill('#editor', {
      theme: 'snow',
      placeholder: 'Ø¯Ù„â€ŒÙ†ÙˆØ´ØªÙ‡â€ŒØ§Øª Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ù†ÙˆÛŒØ³...',
      modules: {
        toolbar: [
          [{ header: [1, 2, false] }],
          ['bold', 'italic', 'underline'],
          [{ 'color': [] }, { 'background': [] }],
          ['link', 'image'],
          [{ list: 'ordered' }, { list: 'bullet' }],
          ['clean']
        ]
      }
    });

    function printContent() {
      const win = window.open('', '', 'height=700,width=900');
      win.document.write('<html><head><title>Ú†Ø§Ù¾ Ù…Ø­ØªÙˆØ§</title></head><body>');
      win.document.write(quill.root.innerHTML);
      win.document.write('</body></html>');
      win.document.close();
      win.print();
    }

    function downloadText() {
      const text = quill.root.innerText;
      const blob = new Blob([text], { type: "text/plain" });
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "khamoosh_writing.txt";
      link.click();
    }

    const imageUpload = document.getElementById("imageUpload");
    const imagePreview = document.getElementById("imagePreview");
    imageUpload.addEventListener("change", () => {
      const file = imageUpload.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function (e) {
          imagePreview.src = e.target.result;
          imagePreview.style.display = 'block';
        };
        reader.readAsDataURL(file);
      }
    });
  </script>
</body>
</html>
